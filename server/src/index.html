<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>VR Kart</title>
    <meta name="description" content="VR Kart" />
    <script src="main.js"></script>
  </head>
  <body>
    <a-scene stats>
      <a-assets>
        <img
          id="groundTexture"
          src="https://cdn.aframe.io/a-painter/images/floor.jpg"
          crossorigin="anonymous"
        />
        <img
          id="skyTexture"
          src="https://cdn.aframe.io/a-painter/images/sky.jpg"
          crossorigin="anonymous"
        />
        <video
          id="testVideo"
          src="test.mp4"
          preload="auto"
          loop
          autoplay
        ></video>
        <canvas id="videoCanvas" width="512" height="512"></canvas>
      </a-assets>

      <a-sphere
        position="0 1.5 -5"
        radius="4"
        material="src: #videoCanvas; transparent: true;"
        rotation="-30 180 0"
        phi-length="180"
        theta-length="180"
        side="double"
        segments-width="16"
        segments-height="16"
        canvas-updater
      ></a-sphere>
      <a-torus
        color="#333333"
        arc="180"
        radius="1.5"
        radius-tubular="0.1"
        segments-radial="8"
        segments-tubular="8"
      ></a-torus>
      <a-torus
        color="#333333"
        arc="360"
        radius="1"
        radius-tubular="0.05"
        rotation="90 0 0"
        position="0 0.6 0"
        segments-radial="8"
        segments-tubular="8"
      ></a-torus>

      <a-torus
        color="#ffa500"
        arc="350"
        radius="0.16"
        radius-tubular="0.015"
        rotation="145 0 0"
        position="0 0.7 -0.5"
        segments-radial="8"
        segments-tubular="16"
        class="steering-wheel"
        aabb-collider="objects: .hand; debug: true;"
        wheel
      ></a-torus>

      <!-- Background sky. -->
      <a-sky
        height="2048"
        radius="10"
        color="#7BC8A4"
        theta-length="90"
        width="2048"
        segments-width="8"
        segments-height="8"
        src="#skyTexture"
      ></a-sky>

      <!-- Ground. -->
      <a-circle src="#groundTexture" rotation="-90 0 0" radius="11"></a-circle>

      <!--Tracked controls. -->
      <a-entity
        class="hand"
        hand-controls="hand: left"
        data-aabb-collider-dynamic="true"
        raycaster="objects: .wheelPlane; far: 0.1; showLine: true;"
      ></a-entity>
      <a-entity
        class="hand"
        hand-controls="hand: right"
        data-aabb-collider-dynamic="true"
        raycaster="objects: .wheelPlane; far: 0.1; showLine: true;"
      ></a-entity>
    </a-scene>
  </body>
</html>
